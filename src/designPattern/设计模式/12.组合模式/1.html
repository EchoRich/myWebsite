<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="root">

  </div>
  <script>
     class ReactElement  {
       constructor (type, props) {
         this.type  = type;  //元素类型
         this.props  = props // 属性对象

       }
     }
     function createElement  (type, props,  ...children) {
         return new ReactElement(type, {...props,children: children.length==1?children[0]: children})
     }
   let rootElement  =  createElement("span",  null,   "hello", createElement("span", null,   "world"))
    // ReactDOM.render(<span>
    //   hello <span>world</span></span>, document.querySelector("#root"))
     function render (element, container) {
        if(typeof element =="string"){
           container.appendChild(document.createTextNode(element))
        }
         
        const   {type, props} =  element
         let domElement  = document.createElement(type) //创建真实的dom节点 
         for(let attr  in  props){
           if(attr =="children"){
            //  chidlren可能是对象也可能是一个字符串， 也可能是一个数组
             if(typeof props[attr] =="object"){
               props[attr].forEach(item => {
                 if(typeof item =="object"){
                   render(item, domElement)

                 }else{
                  domElement.appendChild(document.createTextNode(item))
                 }

               })
              
             }else{
               domElement.appendChild(document.createTextNode(props[attr]))
             }
            

           }else if  (attr =="className"){
             domElement.setAttribute("class", props[attr])
           }else{
             domElement.setAttribute(attr, props[attr]) // id, placeholdder, name 
           }
         }
         container.appendChild(domElement)

     }
     render("xxx", document.querySelector("#root"))

  </script>
  
</body>
</html>